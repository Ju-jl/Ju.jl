<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interfaces · Ju.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="Ju.jl logo"/></a><h1>Ju.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../tutorial/">Tutorial</a></li><li class="current"><a class="toctext" href>Interfaces</a><ul class="internal"><li><a class="toctext" href="#Environment-1">Environment</a></li><li><a class="toctext" href="#Space-1">Space</a></li><li><a class="toctext" href="#Agent-1">Agent</a></li><li><a class="toctext" href="#Buffer-1">Buffer</a></li><li><a class="toctext" href="#Learner-1">Learner</a></li><li><a class="toctext" href="#Approximator-1">Approximator</a></li><li><a class="toctext" href="#Environment-Model-1">Environment Model</a></li><li><a class="toctext" href="#Policy-1">Policy</a></li><li><a class="toctext" href="#Action-Selector-1">Action Selector</a></li></ul></li><li><a class="toctext" href="../components/">Components</a></li><li><a class="toctext" href="../utilities/">Utilities</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Interfaces</a></li></ul><a class="edit-page" href="https://github.com/Ju-jl/Ju.jl/blob/master/docs/src/interfaces.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Interfaces</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="interfaces_section-1" href="#interfaces_section-1">Interfaces</a></h1><p>Several interfaces and abstract structures are carefully defined to make this package general enough to support both traditional reinforcement learning and deep reinforcement learning(although most algorithms in this package are targeting traditional RL currently).</p><ul><li><a href="#interfaces_section-1">Interfaces</a></li><ul><li><a href="#Environment-1">Environment</a></li><li><a href="#Space-1">Space</a></li><li><a href="#Agent-1">Agent</a></li><li><a href="#Buffer-1">Buffer</a></li><li><a href="#Learner-1">Learner</a></li><li><a href="#Approximator-1">Approximator</a></li><li><a href="#Environment-Model-1">Environment Model</a></li><li><a href="#Policy-1">Policy</a></li><li><a href="#Action-Selector-1">Action Selector</a></li></ul></ul><h2><a class="nav-anchor" id="Environment-1" href="#Environment-1">Environment</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractEnvironment" href="#Ju.AbstractEnvironment"><code>Ju.AbstractEnvironment</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractEnvironment{Tos, Tas, N}</code></pre><p>Supertype for different kinds of environments with the observation space of type <code>Tos</code> and action space of type <code>Tas</code>. Here the <code>N</code> means the number of <strong>agents</strong> the environment can interact with.</p><p>See also: <a href="#Ju.AbstractAsyncEnvironment"><code>AbstractAsyncEnvironment</code></a>, <a href="#Ju.AbstractSyncEnvironment"><code>AbstractSyncEnvironment</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/environments/abstract_environment.jl#L6-L14">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractSyncEnvironment" href="#Ju.AbstractSyncEnvironment"><code>Ju.AbstractSyncEnvironment</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractSyncEnvironment{Tos, Tas, N} &lt;: AbstractEnvironment{Tos, Tas, N}</code></pre><p>Supertype for <strong>synchronized</strong> environments with the observation space of type <code>Tos</code> and action space of type <code>Tas</code>. Here the <code>N</code> means the number of <strong>agents</strong> the environment can interact with. The <code>Sync</code> means that the environment will hang up and wait for the agent&#39;s input.</p><table><tr><th>Required Methods</th><th>Brief Description</th></tr><tr><td><code>env(action)</code></td><td>Each environment <code>env</code> must be a functional object that receive an action as input and return a <code>NamedTuple{(:observation, :reward, :isdone)}</code></td></tr><tr><td><code>observe(env)</code></td><td>Return a <code>NamedTuple{(:observation, :isdone)}</code></td></tr><tr><td><code>reset!(env)</code></td><td>Reset the environment and return a <code>NamedTuple{(:observation, :isdone)}</code></td></tr><tr><td><strong>Optional Methods</strong></td><td></td></tr><tr><td><code>observationspace(env)</code></td><td>Return the observation space of the environment. See also: <a href="#Ju.AbstractSpace"><code>AbstractSpace</code></a></td></tr><tr><td><code>actionspace(env)</code></td><td>Return the action space of the environment.  See also: <a href="#Ju.AbstractSpace"><code>AbstractSpace</code></a></td></tr><tr><td><code>render(env)</code></td><td>Render the environment</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/environments/abstract_environment.jl#L17-L34">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractAsyncEnvironment" href="#Ju.AbstractAsyncEnvironment"><code>Ju.AbstractAsyncEnvironment</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractAsyncEnvironment{Tos, Tas, N} &lt;: AbstractEnvironment{Tos, Tas, N}</code></pre><p>Opposed to <a href="#Ju.AbstractSyncEnvironment"><code>AbstractSyncEnvironment</code></a>, the <code>Async</code> environments will not wait for the agent&#39;s input. Instead it will keep running asynchronously.</p></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/environments/abstract_environment.jl#L37-L42">source</a></section><h2><a class="nav-anchor" id="Space-1" href="#Space-1">Space</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractSpace" href="#Ju.AbstractSpace"><code>Ju.AbstractSpace</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractSpace</code></pre><p>Supertype of <a href="#Ju.AbstractContinuousSpace"><code>AbstractContinuousSpace</code></a> and <a href="#Ju.AbstractDiscreteSpace"><code>AbstractDiscreteSpace</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/spaces/abstract_space.jl#L7-L11">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractContinuousSpace" href="#Ju.AbstractContinuousSpace"><code>Ju.AbstractContinuousSpace</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractContinuousSpace &lt;: AbstractSpace</code></pre><p>Supertype of different kinds of continuous spaces.</p><table><tr><th>Required Methods</th><th>Brief Description</th></tr><tr><td><code>sample(space)</code></td><td>Get a random sample from the space</td></tr><tr><td><code>Base.in(space, x)</code></td><td>Test whether <code>x</code> is in the <code>space</code></td></tr><tr><td><strong>Optional Methods</strong></td><td></td></tr><tr><td><code>Base.==(spaceX, spaceY)</code></td><td>Check whether two spaces are the same</td></tr><tr><td><code>Base.eltype(space)</code></td><td>Return the type of the sample in a space</td></tr></table><p>See also: <a href="#Ju.AbstractDiscreteSpace"><code>AbstractDiscreteSpace</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/spaces/abstract_space.jl#L14-L28">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractDiscreteSpace" href="#Ju.AbstractDiscreteSpace"><code>Ju.AbstractDiscreteSpace</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractDiscreteSpace &lt;: AbstractSpace</code></pre><p>Supertype of different kinds of discrete spaces.</p><table><tr><th>Required Methods</th><th>Brief Description</th></tr><tr><td><code>sample(space)</code></td><td>Get a random sample from the space</td></tr><tr><td><code>Base.in(space, x)</code></td><td>Test whether <code>x</code> is in the <code>space</code></td></tr><tr><td><code>Base.size(space)</code></td><td>Return the size of the space in all dimensions</td></tr><tr><td><strong>Optional Methods</strong></td><td></td></tr><tr><td><code>Base.length(space)</code></td><td>Return the number of elements in that space. By default it will be <code>*(Base.size(space))</code>.</td></tr><tr><td><code>Base.==(spaceX, spaceY)</code></td><td>Check whether two spaces are the same</td></tr><tr><td><code>Base.eltype(space)</code></td><td>Return the type of the sample in a space</td></tr></table><p>See also: <a href="#Ju.AbstractContinuousSpace"><code>AbstractContinuousSpace</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/spaces/abstract_space.jl#L31-L47">source</a></section><h2><a class="nav-anchor" id="Agent-1" href="#Agent-1">Agent</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractAgent" href="#Ju.AbstractAgent"><code>Ju.AbstractAgent</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractAgent</code></pre><p>Supertype of <strong>agents</strong>. Usually, an agent needs to contain at least an <a href="#Ju.AbstractLearner"><code>AbstractLearner</code></a> and an <a href="#Ju.AbstractTurnBuffer"><code>AbstractTurnBuffer</code></a>.</p><table><tr><th>Required Methods</th><th>Brief Description</th></tr><tr><td><code>agent(obs)</code></td><td><code>agent</code>, an instance of an <code>AbstractAgent</code>, must be a functional object to receive an observation as input and return a pair of state and action (s =&gt; a)</td></tr><tr><td><code>update!(agent, s, a, r, d, s′[, a′])</code></td><td>Update the agent after an interaction with environment</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/agents/abstract_agent.jl#L6-L16">source</a></section><h2><a class="nav-anchor" id="Buffer-1" href="#Buffer-1">Buffer</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractTurnBuffer" href="#Ju.AbstractTurnBuffer"><code>Ju.AbstractTurnBuffer</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractTurnBuffer{names, types} &lt;: AbstractArray{NamedTuple{names, types}, 1}</code></pre><p><code>AbstractTurnBuffer</code> is supertype of a collection of buffers to store the interactions between agents and environments. It is a subtype of <code>AbstractArray{NamedTuple{names, types}, 1}</code> where <code>names</code> specifies which fields are to store and <code>types</code> is the coresponding types of the <code>names</code>.</p><table><tr><th>Required Methods</th><th>Brief Description</th></tr><tr><td><code>Base.push!(b::AbstractTurnBuffer{names, types}, s[, a, r, d, s′, a′])</code></td><td>Push a turn info into the buffer. According to different <code>names</code> and <code>types</code> of the buffer <code>b</code>, it may accept different number of arguments</td></tr><tr><td><code>isfull(b)</code></td><td>Check whether the buffer is full or not</td></tr><tr><td><code>capacity(b)</code></td><td>The maximum length of buffer</td></tr><tr><td><code>Base.length(b)</code></td><td>Return the length of buffer</td></tr><tr><td><code>Base.getindex(b::AbstractTurnBuffer{names, types})</code></td><td>Return a turn of type <code>NamedTuple{names, types}</code></td></tr><tr><td><code>Base.empty!(b)</code></td><td>Reset the buffer</td></tr><tr><td><strong>Optional Methods</strong></td><td></td></tr><tr><td><code>Base.size(b)</code></td><td>Return <code>(length(b),)</code> by default</td></tr><tr><td><code>Base.isempty(b)</code></td><td>Check whether the buffer is empty or not. Return <code>length(b) == 0</code> by default</td></tr><tr><td><code>Base.lastindex(b)</code></td><td>Return <code>length(b)</code> by default</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/buffers/abstract_turn_buffer.jl#L9-L29">source</a></section><h2><a class="nav-anchor" id="Learner-1" href="#Learner-1">Learner</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractLearner" href="#Ju.AbstractLearner"><code>Ju.AbstractLearner</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractLearner</code></pre><p>Supertype for learners. A learner takes in a state and returns an action.</p></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/learners/abstract_learner.jl#L5-L9">source</a></section><h2><a class="nav-anchor" id="Approximator-1" href="#Approximator-1">Approximator</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractApproximator" href="#Ju.AbstractApproximator"><code>Ju.AbstractApproximator</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractApproximator</code></pre><p><code>AbstractApproximator</code> is a supertype of a collection of approximators(including Tabular, Linear, DNN etc.)</p></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/approximators/abstract_approximator.jl#L4-L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractVApproximator" href="#Ju.AbstractVApproximator"><code>Ju.AbstractVApproximator</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractVApproximator{Ts} &lt;: AbstractApproximator</code></pre><p>A supertype of state value approximators with the state of type <code>Ts</code>.</p><table><tr><th>Required Methods</th><th>Brief Description</th></tr><tr><td><code>V(s)</code></td><td><code>V</code>, an instance of <code>AbstractVApproximator</code>, must be a functional object which takes in state <code>s</code> and return the estimated value of that state</td></tr><tr><td><code>update!(V, s, e)</code></td><td>Update the value approximator of state <code>s</code> by a difference of <code>e</code></td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/approximators/abstract_approximator.jl#L11-L20">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractQApproximator" href="#Ju.AbstractQApproximator"><code>Ju.AbstractQApproximator</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractQApproximator{Ts, Ta} &lt;: AbstractApproximator</code></pre><p>A supertype of action value approximators with the state of type <code>Ts</code> and action of type <code>Ta</code>.</p><table><tr><th>Required Methods</th><th>Brief Description</th></tr><tr><td><code>Q(s, a)</code></td><td><code>Q</code>, an instance of <code>AbstractQApproximator</code> must be a functional object which takes in state <code>s</code> and action <code>a</code>. The estimated value of that (state, action) will be returned.</td></tr><tr><td><code>Q(s)</code></td><td>Return the estimations of all actions at state <code>s</code></td></tr><tr><td><code>update!(Q, s, a, e)</code></td><td>Update the approximator <code>Q</code> of state <code>s</code> and action <code>a</code> with difference <code>e</code></td></tr><tr><td><strong>Optional Methods</strong></td><td></td></tr><tr><td><code>Q(s, Val(:max))</code></td><td>Return the maximum value of <code>Q(s)</code></td></tr><tr><td><code>Q(s, Val(:argmax))</code></td><td>Return the argmax of <code>Q(s)</code> (randomly break ties)</td></tr><tr><td><code>update!(Q, s, errors)</code></td><td>Update the approximator <code>Q</code> of state <code>s</code> with the difference <code>errors</code> of each action</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/approximators/abstract_approximator.jl#L23-L38">source</a></section><h2><a class="nav-anchor" id="Environment-Model-1" href="#Environment-Model-1">Environment Model</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractEnvironmentModel" href="#Ju.AbstractEnvironmentModel"><code>Ju.AbstractEnvironmentModel</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractEnvironmentModel</code></pre><p>A supertype of environment models. An environment model is used to simulate the behavior of an environment.</p></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/environment_models/abstract_environment_model.jl#L5-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractSampleModel" href="#Ju.AbstractSampleModel"><code>Ju.AbstractSampleModel</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractSampleModel &lt;: AbstractEnvironmentModel</code></pre><p>An <code>AbstractSampleModel</code> can be used to generate a random turn info to simulate an environment.</p><table><tr><th>Required Methods</th><th>Brief Description</th></tr><tr><td><code>sample(model)</code></td><td>Return a turn info (s, a, r, d, s′)</td></tr><tr><td><code>update!(model, buffer, learner)</code></td><td>Update the <code>model</code> given a <code>buffer</code> and a <code>learner</code></td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/environment_models/abstract_environment_model.jl#L12-L21">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractDistributionModel" href="#Ju.AbstractDistributionModel"><code>Ju.AbstractDistributionModel</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractDistributionModel &lt;: AbstractEnvironmentModel</code></pre><p>An <code>AbstractDistributionModel</code> can return all the possible following up states, rewards, isdone info and corresponding probability.</p><table><tr><th>Required Methods</th><th>Brief Description</th></tr><tr><td><code>sample(model, s, a)</code></td><td>Return a vector of (s′, r, d, p)</td></tr><tr><td><code>update!(model, buffer, learner)</code></td><td>Update the <code>model</code> given a <code>buffer</code> and a <code>learner</code></td></tr><tr><td><code>getstates(model)</code></td><td>Get the number of states of the model</td></tr><tr><td><code>getactions(model)</code></td><td>Get the number of actions of the model</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/environment_models/abstract_environment_model.jl#L24-L35">source</a></section><h2><a class="nav-anchor" id="Policy-1" href="#Policy-1">Policy</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractPolicy" href="#Ju.AbstractPolicy"><code>Ju.AbstractPolicy</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractPolicy</code></pre><p>Supertype for policies. A policy takes in a state and returns an action.</p></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/policies/abstract_policy.jl#L4-L8">source</a></section><h2><a class="nav-anchor" id="Action-Selector-1" href="#Action-Selector-1">Action Selector</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Ju.AbstractActionSelector" href="#Ju.AbstractActionSelector"><code>Ju.AbstractActionSelector</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractActionSelector</code></pre><p>A subtype of <code>AbstractActionSelector</code> is used to generate an action given the estimated valud of different actions.</p><table><tr><th>Required Methods</th><th>Brief Description</th></tr><tr><td><code>selector(values)</code></td><td><code>selector</code>, an instance of <code>AbstractActionSelector</code>, must be a callable object which takes in an estimation and returns an action</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/Ju-jl/Ju.jl/blob/b704a13fe2ce93341ee153383943190f5d01b4cf/src/action_selectors/abstract_action_selector.jl#L4-L13">source</a></section><footer><hr/><a class="previous" href="../tutorial/"><span class="direction">Previous</span><span class="title">Tutorial</span></a><a class="next" href="../components/"><span class="direction">Next</span><span class="title">Components</span></a></footer></article></body></html>
